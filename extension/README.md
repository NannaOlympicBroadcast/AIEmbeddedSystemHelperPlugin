# Dream River

**åµŒå…¥å¼ç³»ç»Ÿå¼€å‘ AI åŠ©æ‰‹** â€” ä¸äº†è§£ä½ å¼€å‘æ¿çš„å¤§è¯­è¨€æ¨¡å‹å¯¹è¯ï¼Œå¯æ“ä½œç»ˆç«¯ï¼Œå¹¶ç†ŸçŸ¥ç¤¾åŒºç¼–å†™çš„æœ€ä½³å®è·µã€‚

> åŸºäº Google ADK æ„å»º Â· å…¼å®¹ä»»ä½• OpenAI æ ¼å¼ API Â· é›¶ä¾èµ–å®‰è£…ï¼ˆå†…ç½®åç«¯ï¼‰

---

## åŠŸèƒ½ç‰¹æ€§

| | |
|---|---|
| ğŸ’¬ **æµå¼å¯¹è¯** | åŸºäº SSE çš„å®æ—¶å“åº”ï¼Œå†…è”å·¥å…·è°ƒç”¨å¡ç‰‡ |
| ğŸ§  **é¡¹ç›®è®°å¿†** | è‡ªåŠ¨è®°ä½å¼€å‘æ¿å‹å·ã€æ“ä½œç³»ç»Ÿã€æŠ€èƒ½æ°´å¹³å’Œæ–‡æ¡£é“¾æ¥ |
| ğŸ“š **æœ€ä½³å®è·µæŒ‡å—** | ç¤¾åŒºå¯ç¼–è¾‘çš„ `best_practices.md` â€” Agent åœ¨æ‰§è¡Œæ–‡ä»¶ä¼ è¾“ã€WiFi é…ç½®ã€apt å®‰è£…ç­‰æ“ä½œå‰ä¼šå‚è€ƒ |
| ğŸ–¥ï¸ **Electerm é›†æˆ** | Agent é€šè¿‡ Electerm MCP æ“ä½œè¿œç¨‹å¼€å‘æ¿çš„ SSH/ä¸²å£ç»ˆç«¯ |
| ğŸ”§ **PlatformIO é›†æˆ** | å¼€å‘æ¿å‘ç°ã€é¡¹ç›®åˆå§‹åŒ–ã€ç¼–è¯‘ã€ä¸Šä¼ å’Œåº“ç®¡ç† |
| ğŸ” **ç½‘ç»œæœç´¢** | åŸºäº Tavily çš„æœç´¢ï¼Œä¼˜å…ˆåŒ¹é…å®˜æ–¹æ•°æ®æ‰‹å†Œå’Œæ•™ç¨‹ |
| â¹ **å¼ºåˆ¶åœæ­¢** | ä¸­é€”æ‰“æ–­ç”Ÿæˆï¼Œä¸ä¼šæŸåä¼šè¯çŠ¶æ€ |
| ğŸ˜´ **ä¼‘çœ å·¥å…·** | Agent å¯åœ¨é•¿æ—¶é—´ `apt install` / `docker build` æœŸé—´ç­‰å¾…ï¼Œæ— éœ€è½®è¯¢ |
| ğŸ“‹ **ç”¨æˆ·è¡¨å•** | Agent å¯å±•ç¤ºå†…è”è¡¨å•ç”¨äºç»“æ„åŒ–è¾“å…¥æˆ–æš‚åœ/æ¢å¤æµç¨‹ |

---

## å‰ç½®è¦æ±‚

Dream River æ ¹æ®ä½ çš„ç¡¬ä»¶ç±»å‹ï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹ä¸€ç§ MCP åç«¯ï¼š

### å•æ¿è®¡ç®—æœºï¼ˆRaspberry Piã€Radxaã€Jetsonâ€¦â€¦ï¼‰

å®‰è£… **[Electerm](https://electerm.html5beta.com/)** â€” ä¸€æ¬¾è·¨å¹³å° SSH/ä¸²å£ç»ˆç«¯ï¼Œå†…ç½® MCP æ”¯æŒã€‚

1. ä»å®˜ç½‘ä¸‹è½½å¹¶å®‰è£… Electermã€‚
2. æ‰“å¼€ Electerm â†’ **è®¾ç½® â†’ MCP** â†’ å¯ç”¨ **MCP æœåŠ¡å™¨**ï¼ˆé»˜è®¤ç«¯å£ `30837`ï¼‰ã€‚
3. åœ¨ VS Code è®¾ç½®ä¸­é…ç½®ï¼š
   ```
   Dream River: Electerm MCP URL = http://127.0.0.1:30837/mcp
   ```

### å¾®æ§åˆ¶å™¨ï¼ˆArduinoã€ESP32ã€STM32â€¦â€¦ï¼‰

å®‰è£… **PlatformIO MCP æœåŠ¡å™¨**ï¼ˆå¦‚å¯ç”¨ï¼‰æˆ–ç›´æ¥ä½¿ç”¨ PlatformIO CLIã€‚å¦‚æœå·²å®‰è£… CLIï¼ŒAgent å¯é€šè¿‡ Electerm æ‰§è¡Œ `pio` å‘½ä»¤ã€‚

### LLM API

ä½ éœ€è¦ä¸€ä¸ª **å…¼å®¹ OpenAI æ ¼å¼** çš„ API ç«¯ç‚¹ï¼Œä¾‹å¦‚ï¼š

| æä¾›å•† | API åœ°å€ | ç¤ºä¾‹æ¨¡å‹ |
|---|---|---|
| OpenAI | `https://api.openai.com/v1` | `openai/gpt-4o` |
| DeepSeek | `https://api.deepseek.com/v1` | `deepseek/deepseek-chat` |
| Ollamaï¼ˆæœ¬åœ°ï¼‰ | `http://localhost:11434/v1` | `openai/qwen2.5-coder:7b` |
| Azure OpenAI | `https://<your>.openai.azure.com/` | `azure/<deployment>` |

---

## å®‰è£…

ä» [Open VSX Marketplace](https://open-vsx.org/extension/OpenOtter/ai-embedded-system-helper) å®‰è£…ï¼Œæˆ–åœ¨ VS Code æ‰©å±•é¢æ¿ä¸­æœç´¢ **"Dream River"**ã€‚

æ— éœ€ Python æˆ– pip â€” åç«¯å¯æ‰§è¡Œæ–‡ä»¶å·²å†…ç½®äºæ‰©å±•ä¸­ã€‚

---

## é…ç½®

æ‰“å¼€ VS Code è®¾ç½®ï¼ˆ`Ctrl+,`ï¼‰å¹¶æœç´¢ **"Dream River"**ï¼š

ä¸‹é¢ä»¥chatglmä¸ºä¾‹è¯´æ˜åº”è¯¥å¦‚ä½•å¡«å†™

| è®¾ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ | å¤‡æ³¨ |
|---|---|---|---|
| `aiEmbeddedHelper.apiKey` | LLM æä¾›å•†çš„ API å¯†é’¥ | *ï¼ˆå¿…å¡«ï¼‰* |  |
| `aiEmbeddedHelper.apiBase` | å…¼å®¹ OpenAI æ ¼å¼çš„ API åœ°å€ | `https://open.bigmodel.cn/api/paas/v4` | è¿™æ˜¯chatglmçš„open ai compatibleåœ°å€ |
| `aiEmbeddedHelper.model` | æ¨¡å‹åç§°ï¼ˆLiteLLM æ ¼å¼ï¼šprovider/modelï¼‰ | `openai/glm-5` | openai compatibleå°±å¡«openai/xxxxï¼Œç”±äºchatglmä½¿openai compatibleæ‰€ä»¥å°±å¡«openai |
| `aiEmbeddedHelper.tavilyApiKey` | Tavily API å¯†é’¥ï¼ˆç”¨äºç½‘ç»œæœç´¢ï¼‰ | *ï¼ˆå¯é€‰ï¼‰* | åœ¨https://app.tavily.comè·å– |
| `aiEmbeddedHelper.electermMcpUrl` | Electerm MCP æœåŠ¡å™¨åœ°å€ | `http://127.0.0.1:30837/mcp` |  |
| `aiEmbeddedHelper.streamingEnabled` | å¯ç”¨ SSE æµå¼ä¼ è¾“ | `true` | æ¨èå¼€å¯ |
| `aiEmbeddedHelper.useExternalBackend` | ä½¿ç”¨å¤–éƒ¨åç«¯è¿›ç¨‹ | `false` | ç³»ç»Ÿè‡ªå¸¦åç«¯è¿›ç¨‹ï¼Œå¦‚æ— éœ€äºŒæ¬¡å¼€å‘è°ƒè¯•æ— éœ€å‹¾é€‰ |
| `aiEmbeddedHelper.backendUrl` | å¤–éƒ¨åç«¯åœ°å€ | `http://127.0.0.1:8000` | åªæœ‰åœ¨useExternalBackendä¸ºtrueæ—¶å‹¾é€‰ |

ä¿®æ”¹è®¾ç½®åä¼šè‡ªåŠ¨é‡å¯åç«¯ â€” æ— éœ€æ‰‹åŠ¨é‡æ–°åŠ è½½ã€‚

---

## æ•°æ®å­˜å‚¨

Dream River åœ¨å½“å‰æ‰“å¼€çš„å·¥ä½œåŒºä¸­å­˜å‚¨é¡¹ç›®è®°å¿†å’Œå¯¹è¯æ—¥å¿—ï¼š

```
<your_project>/
â””â”€â”€ .dream-river/
    â””â”€â”€ data/
        â”œâ”€â”€ projects/   â† è®°ä½çš„å¼€å‘æ¿é…ç½®ã€æ–‡æ¡£é“¾æ¥ã€ç¬”è®°
        â””â”€â”€ logs/       â† æŒ‰ä¼šè¯ä¿å­˜çš„ JSONL å¯¹è¯æ—¥å¿—
```

æ¯ä¸ª VS Code å·¥ä½œåŒºæ‹¥æœ‰**ç‹¬ç«‹çš„æ•°æ®ç›®å½•**ã€‚å¦‚æœæ²¡æœ‰æ‰“å¼€å·¥ä½œåŒºï¼Œæ•°æ®å°†ä¿å­˜åˆ° VS Code å…¨å±€å­˜å‚¨ä½ç½®ã€‚

> `.dream-river/` ä¼šè¢«æ‰©å±•è‡ªåŠ¨æ·»åŠ åˆ° `.gitignore`ã€‚

---

## æœ€ä½³å®è·µæŒ‡å—

`backend/best_practices.md` æ˜¯ä¸€ä¸ª**ç¤¾åŒºå¯ç¼–è¾‘**çš„çŸ¥è¯†åº“ï¼ŒAgent åœ¨æ‰§è¡Œå¸¸è§ä»»åŠ¡å‰ä¼šå‚è€ƒå®ƒã€‚ä½ å¯ä»¥æ·»åŠ è‡ªå·±å›¢é˜Ÿçš„å®è·µï¼š

```bash
git clone <repo>
# ç¼–è¾‘ backend/best_practices.md
# æ–°å¢ä¸€ä¸ª ## ç« èŠ‚ï¼Œç„¶åæäº¤ PR
```

å®‰è£…åå¯åœ¨ `<æ‰©å±•ç›®å½•>/resources/best_practices.md` æŸ¥çœ‹å’Œç¼–è¾‘ã€‚

---

## ä½¿ç”¨æ–¹æ³•

1. ä»ä¾§è¾¹æ æ‰“å¼€ **Dream River** é¢æ¿ï¼ˆæ²³æµå›¾æ ‡ï¼‰ã€‚
2. åœ¨å¯¹è¯æ¡†ä¸­è¾“å…¥é—®é¢˜æˆ–ä»»åŠ¡æè¿°ã€‚
3. Agent ä¼šæ ¹æ®éœ€è¦ä½¿ç”¨å·¥å…·ï¼ˆç»ˆç«¯ã€è®°å¿†ã€æœç´¢ï¼‰ï¼Œå¹¶æ˜¾ç¤ºå†…è”çŠ¶æ€å¡ç‰‡ã€‚
4. é•¿æ—¶é—´æ“ä½œï¼šAgent ä¼šä½¿ç”¨ `sleep_tool` ç­‰å¾…ï¼Œè€Œéè½®è¯¢ã€‚
5. ä¸­é€”åœæ­¢ç”Ÿæˆï¼šç‚¹å‡»å·¥å…·æ ä¸­çš„ **â¹ åœæ­¢** æŒ‰é’®ã€‚

### ç¤ºä¾‹æç¤º

```
æ­å»ºä¸€ä¸ª Raspberry Pi 5 é¡¹ç›® â€” å¼€å‘æ¿è¿è¡Œ Raspberry Pi OS Liteï¼ŒIP æ˜¯ 192.168.1.42
```
```
åœ¨å¼€å‘æ¿ä¸Šå®‰è£… Docker å¹¶éªŒè¯ hello-world èƒ½å¦è¿è¡Œ
```
```
å°† build/firmware.bin ä¼ è¾“åˆ°å¼€å‘æ¿å¹¶çƒ§å½•
```
```
å°†å¼€å‘æ¿è¿æ¥åˆ° WiFi "MyNetwork" å¹¶éªŒè¯ç½‘ç»œè¿é€šæ€§
```
```
åˆå§‹åŒ–ä¸€ä¸ªä½¿ç”¨ Arduino æ¡†æ¶çš„ ESP32 PlatformIO é¡¹ç›®
```

---

